VITE_GEMINI_API_KEY=AIzaSyC_vYzEhGG4iWgLR04nattrQfUMOhn-rUQ
import React, { useEffect, useState } from "react";

const StreamingConsole = ({ streamingPaused, resumeStreaming }) => {
  useEffect(() => {
    if (streamingPaused) {
      console.warn("Streaming paused automatically");
      // Automatically resume streaming after a delay
      const timeout = setTimeout(() => {
        resumeStreaming();
      }, 3000); // Resume after 3 seconds
      return () => clearTimeout(timeout);
    }
  }, [streamingPaused]);

  return (
    <div>
      <h1>Streaming Console</h1>
      {streamingPaused && <p>Streaming paused. Resuming...</p>}
    </div>
  );
};

async function onToolCall(toolCall) {
  try {
    for (const functionCall of toolCall.functionCalls) {
      const result = await dispatchFunctionCall(functionCall);
      client.sendToolResponse({ result });
    }
  } catch (error) {
    console.error("Error during tool call:", error);
    client.sendToolResponse({ result: "error", error: error.message });
  }
}

export default StreamingConsole;
